<template>
    <div>
        <div class="menu-nav-wrap-full">
            <div class="menu-nav-wrap">
                <div class="menu-single-wrap" v-bind:class="{ 'menu-single-wrap-active' : index===0}" v-for="(item,index) in dataRes.labelList.list" @click="checkedActive($event)">
                <a class="menu-single-a" :href="item.lb_name | targetName">{{item.lb_name}}</a>
                </div>
            </div>
        </div>
        <div class="content-wrap">
            <h1 class="page-title">凌晨两点半-值得收藏的前端程序员常用的中文文档,todo//</h1>
            <div class="single-wrap-kuang" v-for="(labeItem,labeIndex) in dataRes.labelList.list" v-if="labeItem.docList.length > 0">
                <div class="label-name-wrap">
                    <div class="before-h2"></div>
                    <h2 :id="labeItem.lb_name">{{labeItem.lb_name}}</h2>
                </div>
                <div>
                    <div class="single-wrap" v-for="(docItem,docIndex) in labeItem.docList">
                        <a class="got-out" target="block" :href="docItem.doc_address">
                            <img :src="docItem.doc_logo" class="logo" :alt="docItem.doc_title"/>
                            <div class="right-content">
                                <div class="title">{{docItem.doc_title}}</div>
                                <el-popover
                                placement="bottom"
                                :title="docItem.doc_title"
                                width="200"
                                trigger="hover"
                                :content="docItem.doc_desc">
                                    <div class="desc" slot="reference">{{docItem.doc_desc}}</div>
                                </el-popover>
                                <div class="icon-wrap">
                                    <a v-if="docItem.doc_github !== null && docItem.doc_github !== ''" target="block" :href="docItem.doc_github"><img src="../../../../asset/images/github.png" class="github"/></a>
                                    <a target="block" :href="docItem.doc_address"><img src="../../../../asset/images/home.png" class="home"/></a>
                                </div>
                            </div>
                        </a>
                    </div>
                </div>
            </div>
            <div class="not-more">目前内容暂时只有这么多，我们在努力更新中...</div>
        </div>
    </div>
</template>
<style scoped lang="scss">
    @import '../../../../asset/css/mixin.scss';
    @import "./contentch.scss";
</style>
<script type="babel">
import Util from'../../../../asset/js/util.js';
import request from 'framework/network/request';
import Vue from 'vue';
import $ from 'jquery';
import ElementUI from 'element-ui';
import 'element-ui/lib/theme-chalk/index.css';
Vue.use(ElementUI);
import moment from 'moment';
export default {
data(){
  return {
    defaultIndex:0,
    newList:[],
    reactList:[],
    labelData:[],
    atc_id: '',
    articleDetail:[],
    hrefFileUrl:'',
    labelList:[],
    menuShow:false,
    footerPosition:false,
  }
},
props:['dataRes'],
methods: {
    checkedActive(event){
        // $(event.currentTarget).parentNode.children[1].removeClass('menu-single-wrap-active');
        // $(event.currentTarget).addClass('menu-single-wrap-active');
        $(event.currentTarget).siblings().removeClass('menu-single-wrap-active');
        $(event.currentTarget).addClass('menu-single-wrap-active');
    }
},
filters:{
    targetName(data){
        return '#'+data;
    }
},
mounted() {
    // 百度统计代码
    var _hmt = _hmt || [];
    (function() {
    var hm = document.createElement("script");
    hm.src = "https://hm.baidu.com/hm.js?f1114bf2679a9e797610cd8a52541da1";
    var s = document.getElementsByTagName("script")[0]; 
    s.parentNode.insertBefore(hm, s);
    })();
    // 自动爬虫（百度）
    (function(){
        var bp = document.createElement('script');
        var curProtocol = window.location.protocol.split(':')[0];
        if (curProtocol === 'https') {
            bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
        }
        else {
            bp.src = 'http://push.zhanzhang.baidu.com/push.js';
        }
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(bp, s);
    })();
    let marginTop = $('.container-fluid').height()+$('.menu-nav-wrap-full').height();
    if(Util.browserRedirect()){//移动端
        $('.content-wrap').css({
            'margin-top': marginTop + 1
        })
    }else{
        $('.content-wrap').css({
            'margin-top': marginTop + 10
        })
    }
    
}
}
</script>
